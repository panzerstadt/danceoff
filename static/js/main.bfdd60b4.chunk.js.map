{"version":3,"sources":["pages/Intro/index.module.css","pages/Learn/index.module.css","App.module.css","components/Navigation/index.module.css","components/Button/index.module.css","assets/images/danceoff.png","assets/videos/video.mp4","pages/Leaderboard/index.module.css","logo.svg","components/Navigation/Buttons.module.css","components/Posenet/index.module.css","components/Navigation/Buttons.js","components/Navigation/index.js","components/Button/index.js","pages/Intro/index.js","assets/svg/loop.svg","pages/Learn/index.js","components/Posenet/PosenetHooks.js","components/Posenet/helpers/scorer.js","components/Posenet/helpers/utils.js","components/Posenet/index.js","pages/Record/index.js","lib/firebase.js","components/Rankings/index.js","lib/constants.js","components/PostRanking/index.js","pages/Leaderboard/index.js","App.js","serviceWorker.js","index.js","components/PostRanking/index.module.css","components/Rankings/index.module.css","pages/Record/index.module.css"],"names":["module","exports","page","hero","startBtn","video","videoControls","buttons","seekBar","seekBtn","btn","dummy","playPause","loop","loopIcon","activeLoop","app","nav","bigBtn","default","intro","__webpack_require__","p","modeButtons","toggleButton","toggleButtonRight","btnContainer","toggles","btnLeft","btnRight","hasRecording","hasRecordingMain","hasRecordingSecondary","loading","posenet","download","button","contextualOptions","contextualOptionsDiv","replayDiv","scrubberDiv","scrubberInnerDiv","scores","s","score","totalScore","videoPlayer","ModeButtons","_ref","_ref$recordings","recordings","_ref$onToggle","onToggle","v","console","log","length","react_default","a","createElement","className","styles","onClick","style","padding","Page","props","useEffect","Buttons_ModeButtons","Buttons","Button","children","_ref$theme","theme","rest","Object","objectWithoutProperties","assign","src","dance","alt","components_Button","_extends","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","loop_ref2","d","loop_SvgLoop","svgRef","id","x","y","viewBox","enableBackground","xmlSpace","width","height","ref","ForwardRef","forwardRef","_useState","useState","_useState2","slicedToArray","setLoop","_useState3","_useState4","play","setPlay","_useState5","_useState6","progress","setProgress","_useState7","_useState8","seekVal","setSeekVal","fraction","played","_useState9","_useState10","loaded","setLoaded","_useState11","_useState12","seek","setSeek","playerRef","useRef","current","seekTo","ReactPlayer_default","url","playing","onProgress","onReady","dist","onChange","e","direction","Direction","HORIZONTAL","value","_ref2","position","borderRadius","top","left","concat","marginTop","marginLeft","bottom","marginBottom","Pause","Play","poseRecords","WebcamSource","facingMode","webcamRef","setDims","videoConstraints","display","flexDirection","justifyContent","alignItems","react_webcam_default","audio","Posenet","PosenetHooks_WebcamSource","videoHeight","videoWidth","frontCamera","defaultProps","algorithm","mobileNetArchitecture","test","navigator","userAgent","showVideo","showSkeleton","showPoints","minPoseConfidence","minPartConfidence","maxPoseDetections","nmsRadius","outputStride","imageScaleFactor","skeletonColor","ghostColor","skeletonLineWidth","loadingText","stop","record","recordVideo","maxFPS","compete","onScore","onRestart","restarting","setRestarting","setScore","phase","setPhase","dims","window","innerHeight","Math","min","innerWidth","onTracePose","onTraceVideo","handleRecordEnd","type","modalStart","modalEnd","components_Posenet","restart","onEnd","getPoseRecords","getVideoRecords","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","reactConfig","map","firebase","apps","initializeApp","Rankings","rankings","setRankings","databaseRef","undefined","sortKey","limit","callback","database","orderByChild","limitToLast","on","snapshot","sortedVals","forEach","child","push","val","reverse","ReadSortedFromFirebase","Fragment","title","rankingOL","k","rankingLI","user","Submit","username","setUsername","userScore","setUserScore","posted","setPosted","form","formDiv","onSubmit","data","then","PushToFirebase","preventDefault","cta","input","placeholder","thanks","thankYou","components_Rankings","PostRanking","App","setPage","handleScore","handleRestart","setTimeout","Intro","Learn","Record","Leaderboard","Navigation","Boolean","location","hostname","match","require","ReactDOM","render","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister","modal"],"mappings":"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","file":"static/js/main.bfdd60b4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Intro_page__1L74o Layout_page__3AEwV\",\"hero\":\"Intro_hero__2ooq0\",\"startBtn\":\"Intro_startBtn__3vE0Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Learn_page__3EZKE Layout_page__3AEwV\",\"video\":\"Learn_video__2sdSS\",\"videoControls\":\"Learn_videoControls__2pAe2\",\"buttons\":\"Learn_buttons__2ncbD\",\"seekBar\":\"Learn_seekBar__BU6xs\",\"seekBtn\":\"Learn_seekBtn__1bftA\",\"btn\":\"Learn_btn__2lKpL\",\"dummy\":\"Learn_dummy__2jhKp Learn_btn__2lKpL\",\"playPause\":\"Learn_playPause__L6Q9A Learn_btn__2lKpL\",\"loop\":\"Learn_loop__R7rsF Learn_btn__2lKpL\",\"loopIcon\":\"Learn_loopIcon__1fX86\",\"activeLoop\":\"Learn_activeLoop__SSIod Learn_loopIcon__1fX86\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3VY0g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__wajNd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bigBtn\":\"Button_bigBtn__2JwRJ\",\"default\":\"Button_default__18Fup Button_bigBtn__2JwRJ\",\"intro\":\"Button_intro__1kxON Button_bigBtn__2JwRJ\"};","module.exports = __webpack_public_path__ + \"static/media/danceoff.8f298f1e.png\";","module.exports = __webpack_public_path__ + \"static/media/video.34a4fb22.mp4\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Leaderboard_page__22xay Layout_page__3AEwV\"};","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modeButtons\":\"Buttons_modeButtons__2HNnR\",\"toggleButton\":\"Buttons_toggleButton__3kNmh\",\"toggleButtonRight\":\"Buttons_toggleButtonRight__2C7P- Buttons_toggleButton__3kNmh\",\"btnContainer\":\"Buttons_btnContainer__18RFq\",\"toggles\":\"Buttons_toggles__1TOAn\",\"btn\":\"Buttons_btn__33UXZ\",\"btnLeft\":\"Buttons_btnLeft__1oo4l Buttons_btn__33UXZ\",\"btnRight\":\"Buttons_btnRight__3yaS_ Buttons_btn__33UXZ\",\"hasRecording\":\"Buttons_hasRecording__GrAuA\",\"hasRecordingMain\":\"Buttons_hasRecordingMain__-UFBG Buttons_hasRecording__GrAuA\",\"hasRecordingSecondary\":\"Buttons_hasRecordingSecondary__84sWz Buttons_hasRecording__GrAuA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Posenet_loading__zk9xm\",\"posenet\":\"Posenet_posenet__2HVBw\",\"download\":\"Posenet_download__UlZD3\",\"button\":\"Posenet_button__gtwpS\",\"contextualOptions\":\"Posenet_contextualOptions__2idSY\",\"contextualOptionsDiv\":\"Posenet_contextualOptionsDiv__1Y5Xa\",\"replayDiv\":\"Posenet_replayDiv__3a_WU\",\"scrubberDiv\":\"Posenet_scrubberDiv__2iI79\",\"scrubberInnerDiv\":\"Posenet_scrubberInnerDiv__u-HoF\",\"scores\":\"Posenet_scores__1uGS0\",\"s\":\"Posenet_s__1W1MI\",\"score\":\"Posenet_score__jromn Posenet_s__1W1MI\",\"totalScore\":\"Posenet_totalScore__2K4cr Posenet_s__1W1MI\",\"videoPlayer\":\"Posenet_videoPlayer__3YJUB\"};","import React, { useEffect } from \"react\";\n\nimport styles from \"./Buttons.module.css\";\n// constants\nimport { COLORS } from \"../../lib/constants\";\n\nconst ModeButtons = ({\n  recordings = [],\n  onToggle = v => console.log(\"toggled! \" + v)\n}) => {\n  const hasRecording = recordings.length === 0;\n  return (\n    <div className={styles.modeButtons}>\n      <div className={styles.btnContainer}>\n        <button\n          className={\n            styles.btnLeft +\n            \" \" +\n            (hasRecording ? styles.hasRecordingSecondary : \"\")\n          }\n          onClick={() => onToggle(\"watch\")}\n          style={{\n            padding: \"8px 15px\"\n          }}\n        >\n          WATCH ▶️\n        </button>\n        <button\n          className={\n            styles.btn + \" \" + (!hasRecording ? styles.hasRecordingMain : \"\")\n          }\n          onClick={() => onToggle(\"record\")}\n          style={{\n            padding: \"8px 15px\"\n          }}\n        >\n          RECORD 📹\n        </button>\n        <button\n          className={\n            styles.btnRight +\n            \" \" +\n            (!hasRecording ? styles.hasRecordingMain : \"\")\n          }\n          onClick={() => onToggle(\"compete\")}\n          style={{\n            padding: \"8px 15px\"\n          }}\n        >\n          COMPETE ⚔️\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst Page = props => {\n  useEffect(() => {\n    // didmount\n    console.log(\"mounted this navigation page yo\");\n\n    return () => console.log(\"unmounted this navigation page yo\");\n  }, []);\n  return <ModeButtons {...props} />;\n};\n\nexport default Page;\n","import React from \"react\";\n\nimport styles from \"./index.module.css\";\n\nimport Buttons from \"./Buttons\";\n\nconst Page = ({ onClick }) => {\n  return (\n    <div className={styles.nav}>\n      <Buttons onToggle={onClick} />\n    </div>\n  );\n};\n\nexport default Page;\n","import React from \"react\";\n\nimport styles from \"./index.module.css\";\n\nconst Button = ({ children, onClick, theme = \"default\", ...rest }) => {\n  return (\n    <button className={styles[theme]} onClick={onClick} {...rest}>\n      {children || \"button\"}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useEffect } from \"react\";\n\nimport styles from \"./index.module.css\";\n\nimport Button from \"../../components/Button\";\n\n// assets\nimport dance from \"../../assets/images/danceoff.png\";\n\nconst Page = ({ onClick }) => {\n  useEffect(() => {\n    // didmount\n    console.log(\"mounted this page yo\");\n\n    return () => console.log(\"unmounted this page yo\");\n  }, []);\n  return (\n    <div className={styles.page}>\n      <img className={styles.hero} src={dance} alt=\"danceoff!\" />\n      <Button theme=\"intro\" onClick={onClick}>\n        START\n      </Button>\n    </div>\n  );\n};\n\nexport default Page;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M256.5,286c76.683,0,142.5-64.228,142.5-142.5C399,64.9,335.1,0,256.5,0S113,64.9,113,143.5   c0,35.099,12.9,66.899,34.2,91.5c3.005-1.994,21.385-18.847,53.399-29.7C183.8,190,173,168.1,173,143.5   c0-45.601,37.899-82.5,83.5-82.5S339,97.899,339,143.5c0,44.65-35.839,82.5-82.5,82.5C181.597,226,113,288.457,113,368.5   c0,78.6,64.9,143.5,143.5,143.5S399,447.1,399,368.5c0-35.101-12.9-66.901-34.2-91.5c-3.005,1.994-21.385,18.845-53.399,29.7   C328.2,322,339,343.9,339,368.5c0,45.599-36.899,83.5-82.5,83.5S173,414.099,173,368.5C173,323.85,209.839,286,256.5,286z\"\n}));\n\nvar SvgLoop = function SvgLoop(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    width: 512,\n    height: 512,\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgLoop, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/loop.21dce757.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState, useRef } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport { Direction, Slider, PlayerIcon } from \"react-player-controls\";\n\nimport styles from \"./index.module.css\";\n\nimport { ReactComponent as LoopIcon } from \"../../assets/svg/loop.svg\";\nimport video from \"../../assets/videos/video.mp4\";\n\nconst Page = () => {\n  const [loop, setLoop] = useState(true);\n  const [play, setPlay] = useState(true);\n\n  // update slider progress\n  const [progress, setProgress] = useState();\n  const [seekVal, setSeekVal] = useState(0);\n  useEffect(() => {\n    if (progress) {\n      // there's more stuff\n      const fraction = progress.played;\n      setSeekVal(fraction);\n    }\n  }, [progress]);\n\n  // seek slider\n  const [loaded, setLoaded] = useState(false);\n  const [seek, setSeek] = useState(0);\n  const playerRef = useRef();\n  useEffect(() => {\n    if (loaded && playerRef) {\n      playerRef.current.seekTo(seek);\n      setSeekVal(seek);\n    }\n  }, [seek]);\n  const scrubVideo = e => {\n    setSeek(e);\n  };\n\n  // style slider and slider handle\n  const SliderBar = ({ direction, value, style, className }) => (\n    <div className={className} style={style} />\n  );\n  const SliderHandle = ({ direction, value, style, className }) => (\n    <div\n      className={className}\n      style={Object.assign(\n        {},\n        {\n          position: \"absolute\",\n          width: 16,\n          height: 16,\n          borderRadius: \"100%\"\n        },\n        direction === Direction.HORIZONTAL\n          ? {\n              top: 0,\n              left: `${value * 100}%`,\n              marginTop: -5,\n              marginLeft: -8\n            }\n          : {\n              left: 0,\n              bottom: `${value * 100}%`,\n              marginBottom: -8,\n              marginLeft: -4\n            },\n        style\n      )}\n    />\n  );\n\n  return (\n    <div className={styles.page}>\n      <ReactPlayer\n        ref={playerRef}\n        height=\"100%\"\n        url={video}\n        playing={play}\n        loop={loop}\n        onProgress={setProgress}\n        onReady={() => setLoaded(true)}\n      />\n      <div className={styles.videoControls}>\n        {/* <div className={styles.seekBar}>\n          <button className={styles.seekBtn} />{\" \"}\n        </div> */}\n        <Slider onChange={scrubVideo} direction={Direction.HORIZONTAL}>\n          <SliderBar\n            className={styles.seekBar}\n            value={seekVal}\n            direction={Direction.HORIZONTAL}\n          />\n          <SliderHandle\n            className={styles.seekBtn}\n            value={seekVal}\n            direction={Direction.HORIZONTAL}\n          />\n        </Slider>\n\n        <div className={styles.buttons}>\n          <p className={styles.dummy} />\n          <button className={styles.playPause} onClick={() => setPlay(!play)}>\n            {play ? (\n              <PlayerIcon.Pause height={20} />\n            ) : (\n              <PlayerIcon.Play height={20} />\n            )}\n          </button>\n          <button className={styles.loop} onClick={() => setLoop(!loop)}>\n            <LoopIcon className={loop ? styles.activeLoop : styles.loopIcon} />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Page;\n","// ref: https://github.com/jscriptcoder/tfjs-posenet/blob/master/src/PoseNet/index.jsx\n\n// main imports\nimport React, { useState, useEffect, useRef } from \"react\";\nimport * as posenet from \"@tensorflow-models/posenet\";\nimport Webcam from \"react-webcam\";\n\n// styles\nimport styles from \"./index.module.css\";\n\n// components\nimport { isMobile, drawKeypoints, drawSkeleton } from \"./helpers/utils\";\nimport scoreSimilarity from \"./helpers/scorer\";\n\n// ghost (the dance move you're competing with)\nimport DANCER from \"./data/ROBOT_RAHMAT.json\";\nconst GHOST = DANCER.poseRecords;\n\nconst WebcamSource = ({ height, width, facingMode }) => {\n  const webcamRef = useRef();\n\n  const [dims, setDims] = useState({ height: 0, width: 0 });\n\n  useEffect(() => {\n    const v = webcamRef.current.video;\n    const height = v.height;\n    const width = v.width;\n\n    setDims({ height: height, width: width });\n  }, []);\n\n  const videoConstraints = {\n    width: width,\n    height: height,\n    facingMode: facingMode\n  };\n\n  console.log(videoConstraints);\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"flex-start\"\n      }}\n    >\n      <Webcam\n        ref={webcamRef}\n        audio={false}\n        height={height}\n        width={width}\n        videoConstraints={videoConstraints}\n      />\n    </div>\n  );\n};\n\nconst Posenet = props => {\n  console.log(props);\n\n  return (\n    <WebcamSource\n      height={props.videoHeight}\n      width={props.videoWidth}\n      facingMode={props.frontCamera ? \"user\" : \"environment\"}\n    />\n  );\n};\n\nPosenet.defaultProps = {\n  videoWidth: 600,\n  videoHeight: 500,\n  algorithm: \"single-pose\",\n  mobileNetArchitecture: isMobile() ? 0.5 : 1.01,\n  showVideo: true,\n  showSkeleton: true,\n  showPoints: true,\n  minPoseConfidence: 0.1,\n  minPartConfidence: 0.1,\n  maxPoseDetections: 2,\n  nmsRadius: 20.0,\n  outputStride: 16,\n  imageScaleFactor: 0.5,\n  skeletonColor: \"aqua\",\n  ghostColor: \"yellow\",\n  skeletonLineWidth: 8,\n  loadingText: \"Loading pose detector...\",\n  frontCamera: true,\n  stop: false,\n  record: false,\n  recordVideo: false,\n  maxFPS: 30,\n  compete: true\n};\n\nexport default Posenet;\n","import { extent } from \"d3-array\";\nimport { cosineSimilarity } from \"./cosineSimilarity\";\n\nconst SCORE_MIN = 0.9;\n\nfunction remap(value, low1, high1, low2, high2) {\n  return low2 + ((high2 - low2) * (value - low1)) / (high1 - low1);\n}\n\n// find bounding box of pose\nconst calculatePoseDomain = pose => {\n  const keypoints = pose.keypoints;\n  const x = keypoints.map(v => v.position.x);\n  const y = keypoints.map(v => v.position.y);\n\n  const xDomain = extent(x);\n  const yDomain = extent(y);\n\n  return { x: xDomain, y: yDomain };\n};\n\n// return an array of poses with current pose in the middle of array\n// frameNumber == which point in time (of the poseSet) do you want to compare?\nconst findClosestPoses = (\n  frameNumber,\n  poseSet,\n  count = 5,\n  includeDist = false\n) => {\n  const index = frameNumber;\n  // find n closest poses compared to input pose and its index\n  const split = Math.round(count / 2);\n  // the first item in leftHalf is the current index\n  const leftHalf = Array(split)\n    .fill(split)\n    .map((v, i) => Math.max(index - i, 0));\n\n  const rightHalf = Array(count - split)\n    .fill(count - split)\n    .map((v, i) => index + 1 + i);\n\n  const closestNIndices = [...leftHalf, ...rightHalf].sort((a, b) => a - b);\n\n  if (includeDist) {\n    return closestNIndices.map((v, i) => {\n      return {\n        distance: Math.abs(index - v),\n        index: v,\n        pose: poseSet[v]\n      };\n    });\n  } else {\n    return closestNIndices.map(v => poseSet[v]);\n  }\n};\n\n// convert pose into vector,\n// option to resize to 0-1 for scoring\n// option to ensure vector is length 34 (for tfjs posenet)\nconst vectorizePose = (pose, resize = true, cleanup = true) => {\n  let arrayOut;\n\n  if (!pose || pose.length === 0) return [];\n\n  // maintain pose order\n  const keypoints = pose.keypoints;\n  // const keypoints = pose.keypoints.sort((a, b) => {\n  //   const x = a.part;\n  //   const y = b.part;\n\n  //   if (x < y) return -1;\n  //   if (x > y) return 1;\n  //   return 0;\n  // });\n\n  // resize == remap x and y to 0 to 1\n  if (resize) {\n    const { x, y } = calculatePoseDomain(pose);\n    const xMin = x[0];\n    const xMax = x[1];\n    const yMin = y[0];\n    const yMax = y[1];\n\n    //todo test this\n    arrayOut = [].concat.apply(\n      [],\n      keypoints.map(v => [\n        remap(v.position.y, yMin, yMax, 0, 1),\n        remap(v.position.x, xMin, xMax, 0, 1)\n      ])\n    );\n  } else {\n    arrayOut = [].concat.apply(\n      [],\n      keypoints.map(v => [v.position.y, v.position.x])\n    );\n  }\n\n  // ensure length === 34\n  if (cleanup) {\n    const len = arrayOut.length;\n    if (len !== 34) {\n      if (len < 34) {\n        console.log(`current keypoint count is ${len}. should be 34.`);\n      }\n      arrayOut = arrayOut.slice(0, 34);\n    }\n  }\n\n  return arrayOut;\n};\n\nconst scoreSimilarity = (\n  currentPose,\n  currentTimeFrame,\n  comparisonPoseSet,\n  compareNearestFrames = 5,\n  includeDistance = true,\n  accuracyInDecimals = 4\n) => {\n  const PENALTY = 0.001;\n  const c_Pose = vectorizePose(currentPose, true, true);\n\n  // score nearest n poses with current pose\n  const scoreFrames = findClosestPoses(\n    currentTimeFrame,\n    comparisonPoseSet,\n    compareNearestFrames,\n    includeDistance\n  ).map((v, i) => {\n    if (!v.pose) {\n      return {\n        distance: 1,\n        score: 0,\n        cosineSimilarity: 0,\n        weightedSimilarity: 0,\n        index: v.index\n      };\n    }\n\n    const comparisonPose = vectorizePose(v.pose, true, true);\n    const comparisonPoseConfidence = v.pose.score;\n    const comparisonPoseDistance = v.distance;\n    const comparisonPoseIndex = v.index;\n\n    // cosine similarity\n    const similarity = cosineSimilarity(c_Pose, comparisonPose).toFixed(\n      accuracyInDecimals\n    );\n    // penalize by accuracy/confidence\n    const weightedSimilarity = comparisonPoseConfidence * similarity;\n    // also penalize by how many frame did you lag behind\n    const finalSimilarity =\n      weightedSimilarity - comparisonPoseDistance * PENALTY;\n\n    return {\n      distance: comparisonPoseDistance,\n      score: finalSimilarity,\n      cosineSimilarity: similarity,\n      weightedSimilarity: weightedSimilarity,\n      index: comparisonPoseIndex\n    };\n  });\n\n  const highestScore = scoreFrames\n    .map(v => v.score)\n    .sort((a, b) => a - b)\n    .reverse()[0];\n  const currentFrameScore = scoreFrames.filter(v => v.distance === 0)[0].score;\n\n  return {\n    score: {\n      normalized: Math.max(remap(highestScore, SCORE_MIN, 1.0, 0, 100), 0),\n      highest: highestScore,\n      current: currentFrameScore,\n      all: scoreFrames\n    }\n  };\n};\n\nexport default scoreSimilarity;\n","import * as posenet from \"@tensorflow-models/posenet\";\n\nexport const isAndroid = () => /Android/i.test(navigator.userAgent);\n\nexport const isiOS = () => /iPhone|iPad|iPod/i.test(navigator.userAgent);\n\nexport const isMobile = () => isAndroid() || isiOS();\n\nexport const drawKeypoints = (\n  keypoints,\n  minConfidence,\n  skeletonColor,\n  ctx,\n  scale = 1\n) => {\n  keypoints.forEach(keypoint => {\n    if (keypoint.score >= minConfidence) {\n      const { y, x } = keypoint.position;\n      ctx.beginPath();\n      ctx.arc(x * scale, y * scale, 3, 0, 2 * Math.PI);\n      ctx.fillStyle = skeletonColor;\n      ctx.fill();\n    }\n  });\n};\n\nconst toTuple = ({ y, x }) => [y, x];\n\nconst drawSegment = ([ay, ax], [by, bx], color, lineWidth, scale, ctx) => {\n  ctx.beginPath();\n  ctx.moveTo(ax * scale, ay * scale);\n  ctx.lineTo(bx * scale, by * scale);\n  ctx.lineWidth = lineWidth;\n  ctx.strokeStyle = color;\n  ctx.stroke();\n};\n\nexport const drawSkeleton = (\n  keypoints,\n  minConfidence,\n  color,\n  lineWidth,\n  ctx,\n  scale = 1\n) => {\n  const adjacentKeyPoints = posenet.getAdjacentKeyPoints(\n    keypoints,\n    minConfidence\n  );\n\n  adjacentKeyPoints.forEach(keypoints => {\n    drawSegment(\n      toTuple(keypoints[0].position),\n      toTuple(keypoints[1].position),\n      color,\n      lineWidth,\n      scale,\n      ctx\n    );\n  });\n};\n\n// draw3dModel\n// exact same thing\n","// posenet code, takes in video feed and returns pose\n// also records video feed\nimport Posenet from \"./PosenetHooks\";\n\nexport default Posenet;\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./index.module.css\";\n\nimport Posenet from \"../../components/Posenet\";\n\nconst MAX_WIDTH = 375;\n\nconst Page = ({ onScore, onRestart }) => {\n  const [restarting, setRestarting] = useState(false);\n  const [score, setScore] = useState(0);\n  const [phase, setPhase] = useState(\"\");\n  const [dims, setDims] = useState({ height: 0, width: 0 });\n  useEffect(() => {\n    // didmount\n    console.log(\"mounted this page yo\");\n    setDims({\n      height: window.innerHeight,\n      width: Math.min(window.innerWidth, MAX_WIDTH)\n    });\n\n    // show modal, prepare user to start\n    setPhase(\"start\");\n\n    return () => console.log(\"unmounted this page yo\");\n  }, []);\n\n  const handleClick = type => {\n    if (type === \"start\") {\n      setPhase(\"play\");\n      setRestarting(false);\n    } else if (type === \"end\") {\n      setPhase(\"submit\");\n      setRestarting(true);\n      if (onScore) {\n        onScore(score);\n      }\n    } else if (type === \"retry\") {\n      setRestarting(true);\n      if (onRestart) {\n        onRestart();\n      }\n    }\n  };\n\n  // handles live recording of pose\n  const onTracePose = p => {};\n\n  const onTraceVideo = v => {\n    //console.log(v)\n  };\n\n  // when one loop ends, trigger this\n  const handleRecordEnd = score => {\n    console.log(\"SCORE IS\");\n    console.log(score);\n    setScore(score);\n    setPhase(\"end\");\n  };\n\n  const Modal = ({ type, onClick, score }) => {\n    if (type === \"start\") {\n      return (\n        <div className={styles.modalStart}>\n          <p>Ready to go?</p>\n          <button onClick={() => onClick(type)}>START!</button>\n        </div>\n      );\n    } else if (type === \"end\") {\n      return (\n        <div className={styles.modalEnd}>\n          <p>your score is {score}</p>\n          <p>do you want to submit?</p>\n          <button onClick={() => onClick(\"retry\")}>RETRY</button>\n          <button onClick={() => onClick(type)}>SUBMIT</button>\n        </div>\n      );\n    } else if (type === \"play\") {\n      return (\n        <Posenet\n          restart={restarting}\n          onEnd={handleRecordEnd}\n          videoWidth={dims.width}\n          videoHeight={dims.height}\n          mobileNetArchitecture={0.5}\n          outputStride={8}\n          loadingText={\"Loading...\"}\n          frontCamera={true}\n          getPoseRecords={onTracePose}\n          getVideoRecords={onTraceVideo}\n          showVideo={true}\n          algorithm={\"single-pose\"}\n          record={true}\n          recordVideo\n        />\n      );\n    } else {\n      return null;\n    }\n  };\n\n  return (\n    <div className={styles.page}>\n      <Modal type={phase} onClick={handleClick} score={score} />\n    </div>\n  );\n};\n\nexport default Page;\n","import firebase from \"firebase\";\n\nconst config = {\n  apiKey: process.env.apiKey,\n  authDomain: process.env.authDomain,\n  databaseURL: process.env.databaseURL,\n  projectId: process.env.projectId,\n  storageBucket: process.env.storageBucket,\n  messagingSenderId: process.env.messagingSenderId\n};\n\nconst reactConfig = {};\nObject.keys(config).map(v => {\n  reactConfig[v] = process.env[`REACT_APP_${v}`];\n});\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(reactConfig);\n}\n\nexport default firebase;\n//module.exports = firebase;\n\nexport const ReadFromFirebase = (databaseRef = \"danceoff\", callback) => {\n  return firebase\n    .database()\n    .ref(databaseRef)\n    .on(\"value\", snapshot => {\n      const vals = snapshot.val();\n      callback(vals);\n    });\n};\n\nexport const ReadSortedFromFirebase = (\n  databaseRef = \"danceoff\",\n  sortKey = \"score\",\n  limit = 50,\n  callback\n) => {\n  return firebase\n    .database()\n    .ref(databaseRef)\n    .orderByChild(sortKey)\n    .limitToLast(limit)\n    .on(\"value\", snapshot => {\n      const sortedVals = [];\n      snapshot.forEach(child => {\n        sortedVals.push(child.val());\n      });\n\n      callback(sortedVals.reverse());\n    });\n};\n\nexport const PushToFirebase = (databaseRef = \"danceoff\", data, callback) => {\n  firebase\n    .database()\n    .ref(databaseRef)\n    .push(data)\n    .then(v => callback(v));\n};\n","import React, { useEffect, useState } from \"react\";\n\nimport styles from \"./index.module.css\";\n\nimport { ReadSortedFromFirebase } from \"../../lib/firebase\";\nimport { DB_PATH } from \"../../lib/constants\";\n\nconst Rankings = () => {\n  const [rankings, setRankings] = useState([]);\n\n  useEffect(() => {\n    // mount db listener\n    ReadSortedFromFirebase(DB_PATH, \"score\", 30, setRankings);\n  }, []);\n\n  const ListRankings = () => {\n    const keys = Object.keys(rankings);\n    console.log(\"List nrakings\");\n    console.log(keys);\n\n    if (keys.length === 0) return <p>no data.</p>;\n\n    return (\n      <ol className={styles.rankingOL}>\n        {keys.map((k, i) => (\n          <li className={styles.rankingLI} key={i}>\n            <p>{rankings[k].user}</p>\n            <p>{rankings[k].score}</p>\n          </li>\n        ))}\n      </ol>\n    );\n  };\n\n  return (\n    <>\n      <h1 className={styles.title}>Leaderboard</h1>\n      <div className={styles.rankings}>\n        <ListRankings />\n      </div>\n    </>\n  );\n};\n\nexport default Rankings;\n","export const DEBUG = false;\nexport const COLORS = {\n  main: \"#5FD49B\",\n  secondary: \"#FF8547\",\n  highlight: \"#BAFFFF\"\n};\n\nexport const DB_PATH = \"danceoff/leaderboard\";\n","import React, { useState, useEffect } from \"react\";\n\nimport styles from \"./index.module.css\";\n\nimport Button from \"../Button\";\n\nimport { PushToFirebase } from \"../../lib/firebase\";\nimport { DB_PATH } from \"../../lib/constants\";\n\nconst Submit = ({ score }) => {\n  const [username, setUsername] = useState();\n  const handleChange = e => {\n    setUsername(e.target.value);\n  };\n\n  const [userScore, setUserScore] = useState();\n  useEffect(() => {\n    // fix initial user score on mount\n    setUserScore(score);\n  }, []);\n\n  const [posted, setPosted] = useState(false);\n  useEffect(() => {\n    // check if score changed before allowing repost\n    if (score !== userScore) {\n      setPosted(false);\n      setUserScore(score);\n    }\n  }, [score]);\n\n  const handleSubmit = e => {\n    const data = {\n      user: username || \"anonymous\",\n      score: score || 0\n    };\n    // send to firebase\n    PushToFirebase(DB_PATH, data, v => console.log(v));\n    setPosted(true);\n    e.preventDefault();\n  };\n\n  const form = (\n    <div className={styles.formDiv}>\n      <form className={styles.form} onSubmit={handleSubmit}>\n        <h3>Your score is: {score}</h3>\n        <p className={styles.cta}>Enter Your Name</p>\n        <input\n          className={styles.input}\n          type=\"text\"\n          onChange={handleChange}\n          value={username}\n          placeholder=\"JACK\"\n        />\n        <br />\n        <Button theme=\"default\" type=\"Submit\">\n          Submit\n        </Button>\n      </form>\n    </div>\n  );\n\n  const thanks = (\n    <div className={styles.thankYou}>\n      <h3>Thanks for Playing!</h3>\n      <p>if you want to play again, go back to RECORD and start moving!</p>\n    </div>\n  );\n\n  return posted ? thanks : form;\n};\n\nexport default Submit;\n","import React, { useEffect } from \"react\";\nimport styles from \"./index.module.css\";\n\nimport Rankings from \"../../components/Rankings\";\nimport PostRanking from \"../../components/PostRanking\";\n\nconst Page = ({ score }) => {\n  useEffect(() => {\n    // didmount\n    console.log(\"mounted this page yo\");\n\n    return () => console.log(\"unmounted this page yo\");\n  }, []);\n  return (\n    <div className={styles.page}>\n      <Rankings />\n      <PostRanking score={score} />\n    </div>\n  );\n};\n\nexport default Page;\n","import React, { useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\n\nimport styles from \"./App.module.css\";\n\n// Navigation\nimport Navigation from \"./components/Navigation\";\n\n// intro\nimport Intro from \"./pages/Intro\";\n// watch\nimport Learn from \"./pages/Learn\";\n// record\nimport Record from \"./pages/Record\";\n// leaderboard\nimport Leaderboard from \"./pages/Leaderboard\";\n\nconst App = () => {\n  const [page, setPage] = useState(\"record\");\n  const [score, setScore] = useState(0);\n\n  const handleScore = score => {\n    setScore(score);\n    setPage(\"compete\");\n  };\n\n  const handleRestart = () => {\n    setPage(\"watch\"); // TODO: a separate ready page\n    setTimeout(() => setPage(\"record\"), 300);\n  };\n\n  const NavRoute = ({ page }) => {\n    switch (page) {\n      case \"home\":\n        return <Intro onClick={() => setPage(\"watch\")} />;\n      case \"watch\":\n        return <Learn />;\n      case \"record\":\n        return <Record onScore={handleScore} onRestart={handleRestart} />;\n      case \"compete\":\n        return <Leaderboard score={score} />;\n      default:\n        return <Intro />;\n    }\n  };\n  return (\n    <div className={styles.app}>\n      <NavRoute page={page} />\n      {page !== \"home\" ? <Navigation onClick={setPage} /> : \"\"}\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nrequire(\"dotenv\").config();\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"PostRanking_form__2as46\",\"input\":\"PostRanking_input__1AoXs\",\"formDiv\":\"PostRanking_formDiv__291kB\",\"thankYou\":\"PostRanking_thankYou__3nLOl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Rankings_title__1NMH7\",\"rankings\":\"Rankings_rankings__3XuR5\",\"rankingOL\":\"Rankings_rankingOL__2heD6\",\"rankingLI\":\"Rankings_rankingLI__2qCp_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Record_page__2IDLo Layout_page__3AEwV\",\"modal\":\"Record_modal__MMDii\",\"modalStart\":\"Record_modalStart__3667M Record_modal__MMDii\",\"modalEnd\":\"Record_modalEnd__3PbMl Record_modal__MMDii\"};"],"sourceRoot":""}